{% extends "base.html" %}

{% block content %}
<div class="container">

    <div class="hero">
        <h1>Your 360Â° photos,<br><span class="hero-accent">published everywhere.</span></h1>
        <p class="hero-subtitle">Upload, edit, and publish photospheres to Google Street View. Manage GPS coordinates, create connections, and track your views â€” all in one place.</p>
        <div class="hero-actions">
            <a href="{{ url_for('upload_multiple_photospheres') }}" class="btn btn-primary">ğŸ“¤ Upload Photospheres</a>
            <a href="{{ url_for('photos_page') }}" class="btn">ğŸ–¼ Browse Library</a>
        </div>
    </div>

    <div class="stats-row">
        <div class="stat-card">
            <div class="stat-icon">ğŸ“·</div>
            <div class="stat-label">Total Photos</div>
            <div class="stat-value">{{ stats.get('photo_count', 0) }}</div>
            <div class="stat-sub">In your library</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸŒ</div>
            <div class="stat-label">Published</div>
            <div class="stat-value">{{ stats.get('published_count', 0) }}</div>
            {% set total = stats.get('photo_count', 0) %}
            {% set pub = stats.get('published_count', 0) %}
            <div class="stat-sub">{{ ((pub / total * 100) | int) if total > 0 else 0 }}% of library</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸ‘</div>
            <div class="stat-label">Total Views</div>
            <div class="stat-value">{{ stats.get('total_views_display', '0') }}</div>
            <div class="stat-sub">All time</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸ”—</div>
            <div class="stat-label">Connections</div>
            <div class="stat-value">{{ stats.get('connection_count', 0) }}</div>
            <div class="stat-sub">Across your photos</div>
        </div>
    </div>

    <div class="features-grid">
        <a href="{{ url_for('upload_multiple_photospheres') }}" class="feature-card">
            <div class="feature-icon" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe);">ğŸ“¤</div>
            <div class="feature-content">
                <h2>Upload Photospheres</h2>
                <p>Drag and drop 360Â° photos for batch upload with automatic EXIF extraction and GPS editing before publishing to Google Street View.</p>
                <span class="feature-link">Get started â†’</span>
            </div>
        </a>
        <a href="{{ url_for('photos_page') }}" class="feature-card">
            <div class="feature-icon" style="background: linear-gradient(135deg, #fef9c3, #fde68a);">ğŸ–¼</div>
            <div class="feature-content">
                <h2>Manage Photos</h2>
                <p>Browse, edit metadata, adjust GPS coordinates, and create precise heading connections between photos in your library.</p>
                <span class="feature-link">Browse library â†’</span>
            </div>
        </a>
        <a href="{{ url_for('photo_database') }}" class="feature-card">
            <div class="feature-icon" style="background: linear-gradient(135deg, #f1f5f9, #e2e8f0);">ğŸ—„</div>
            <div class="feature-content">
                <h2>Photo Database</h2>
                <p>Sync your Street View library to a local SQLite database for fast offline statistics and efficient photo management.</p>
                <span class="feature-link">Open database â†’</span>
            </div>
        </a>
    </div>

    <div class="home-footer">
        <p class="version-note">v{{ app_version }}</p>
    </div>

</div>
{% endblock %}
