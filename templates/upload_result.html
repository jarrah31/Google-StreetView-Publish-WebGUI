{% extends "base.html" %}

{% block title %}Upload Result{% endblock %}

{% block content %}
<div class="container">
      <h1>Upload Result</h1>
      <a href="{{ url_for('index') }}" class="back-link">Back</a>
      <!-- <p>{{ upload_ref_message }}</p>
      <p>{{ upload_status_message }}</p>
      <p>{{ create_photo_response_message }}</p>
      <pre>{{ create_photo_response | tojson(indent=2) }}</pre> -->

      <p><strong>Publish Status:</strong> {{ create_photo_response.get('mapsPublishStatus', 'N/A') }}</p>
      <p><strong>Photo Id:</strong> {{ create_photo_response.get('photoId', {}).get('id', 'N/A') }}</p>
      <p><strong>Share Link:</strong> <a href="{{ create_photo_response.get('shareLink', '#') }}" target="_blank" rel="noopener">{{ create_photo_response.get('shareLink', 'N/A') }}</a></p>
      <p><strong>Thumbnail Url:</strong> <a href="{{ create_photo_response.get('thumbnailUrl', '#') }}" target="_blank" rel="noopener">{{ create_photo_response.get('thumbnailUrl', 'N/A') }}</a></p>
      <p><strong>Capture Time:</strong> {{ create_photo_response.get('captureTime', '')[:10] }}, {{ create_photo_response.get('captureTime', '')[11:19] }}</p>
      <p><strong>Upload Time:</strong> {{ create_photo_response.get('uploadTime', '')[:10] }}, {{ create_photo_response.get('uploadTime', '')[11:19] }}</p>
      <p><strong>Filename:</strong> {{ photo_filename }}</p>
      <!-- Display thumbnail image -->
      {% if create_photo_response.get('thumbnailUrl') %}
        <img src="{{ create_photo_response.get('thumbnailUrl') }}" alt="Thumbnail">
      {% endif %}
      <br>
      <ul>
        <li><a href="{{ url_for('list_photos_page') }}" class="icon-link">
            <img src="{{ url_for('static', filename='icons8-panorama-96-favicon.png') }}" alt="List your photos" />
            <p>View photos</p>
        </a></li>
        <li><a href="{{ url_for('upload_photosphere') }}" class="icon-link">
            <img src="{{ url_for('static', filename='icons8-add-image-96-favicon.png') }}" alt="Upload a new photosphere" />
            <p>Upload Another</p>
        </a></li>
      </ul>
    </div>
{% endblock %}
